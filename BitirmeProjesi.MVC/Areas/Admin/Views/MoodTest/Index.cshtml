@model BitirmeProjesi.Entities.Dtos.MoodTestingDto
@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

@*<link href="~/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">*@
<script src="~/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="~/vendor/jquery/jquery.min.js"></script>

<link href="~/css/MoodTest.css" rel="stylesheet" />


<div class="container-fluid text-center">

    <div class="modal-dialog">
        <div class="modal-content">
            @foreach (var question in Model.Questions)
            {
                <div class="modal-header">
                    <h2 class="text-info"><span class="label label-warning text-info" id="qid"></span>@question.QuestionText </h2>
                </div>
                <div class="modal-body">
                    <div class="col-xs-3 col-xs-offset-5">
                        <div id="loadbar" style="display: none;">
                            <div class="blockG" id="rotateG_01"></div>
                            <div class="blockG" id="rotateG_02"></div>
                            <div class="blockG" id="rotateG_03"></div>
                            <div class="blockG" id="rotateG_04"></div>
                            <div class="blockG" id="rotateG_05"></div>
                            <div class="blockG" id="rotateG_06"></div>
                            <div class="blockG" id="rotateG_07"></div>
                            <div class="blockG" id="rotateG_08"></div>
                        </div>
                    </div>
                    
                    
                    <div class="quiz" id="quiz" data-toggle="buttons">
                        <label class="element-animation1 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value="1">@question.Answer.AnswerText</label>
                        <label class="element-animation2 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value="2">@question.Answer.Options1</label>
                        <label class="element-animation3 btn btn-lg btn-primary btn-block"><span class="btn-label"><i class="glyphicon glyphicon-chevron-right"></i></span> <input type="radio" name="q_answer" value="3">@question.Answer.Options2</label>

                    </div>

                </div>
                <div class="modal-footer text-muted">
                    <span id="answer"></span>
                </div>
            }

            </div>
        </div>
    </div>














    @section Scripts{
        <script>
            $(function () {
                var loading = $('#loadbar').hide();
                $(document)
                    .ajaxStart(function () {
                        loading.show();
                    }).ajaxStop(function () {
                        loading.hide();
                    });

                $("label.btn").on('click', function () {
                    var choice = $(this).find('input:radio').val();
                    $('#loadbar').show();
                    $('#quiz').fadeOut();
                    setTimeout(function () {
                        $("#answer").html($(this).checking(choice));
                        $('#quiz').show();
                        $('#loadbar').fadeOut();
                        /* something else */
                    }, 1500);
                });

                $ans = 3;

                $.fn.checking = function (ck) {
                    if (ck != $ans)
                        return 'INCORRECT';
                    else
                        return 'CORRECT';
                };
            });
        </script>
    }
